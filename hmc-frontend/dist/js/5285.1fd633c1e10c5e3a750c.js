"use strict";(self.webpackChunkHMC=self.webpackChunkHMC||[]).push([[5285],{95285:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Ae});var n=a(28760),l=a.n(n),r=a(28222),s=a.n(r),i=a(80222),c=a.n(i),o=a(14418),m=a.n(o),u=a(8446),d=a.n(u),f=a(86),p=a.n(f),v=a(66870),g=a.n(v),E=a(29747),h=a.n(E),_=a(96718),Z=a.n(_),N=a(71649),y=a(44930),b=a(68420),I=a(27344),C=a(5281),S=a(84441),x=a(3020),D=a(3362),T=a(44845),w=a(30222),L=a.n(w),k=a(6226),B=a.n(k),F=a(39022),M=a.n(F),P=a(87198),O=a.n(P),A=a(24282),G=a.n(A),Y=a(58118),j=a.n(Y),R=a(70586),H=a.n(R),V=a(97606),q=a.n(V),z=a(67294),$=a(30381),U=a.n($),J=a(91819),W=a(34041),K=a(39903),Q=a(45360),X=a(77268),ee=a(71230),te=a(15746),ae=a(87589),ne=a(94037),le=a(98396),re=ne.Z.clusterInspectionApi;const se=function(e){return le[re.getClusterInspectionStatisSet.method](re.getClusterInspectionStatisSet.url,e)},ie=function(e){return le[re.getClusterInspectionBaseInfo.method](re.getClusterInspectionBaseInfo.url,e)},ce=function(e){return le[re.getClusterInspectionTable.method](re.getClusterInspectionTable.url,e)},oe=function(e){return le[re.getClusterrApplicationServerInfo.method](re.getClusterrApplicationServerInfo.url,e)},me=function(e){return le[re.getClusterApplicationServerTableInfo.method](re.getClusterApplicationServerTableInfo.url,e)},ue=function(e){return le[re.getClusterBigDataInfo.method](re.getClusterBigDataInfo.url,e)},de=function(e){return le[re.getSettingData.method](re.getSettingData.url,e)};var fe=a(30258),pe=a(69035),ve=a(21888);function ge(e){var t=function(){if("undefined"==typeof Reflect||!l())return!1;if(l().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(l()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,D.Z)(e);if(t){var r=(0,D.Z)(this).constructor;a=l()(n,arguments,r)}else a=n.apply(this,arguments);return(0,x.Z)(this,a)}}var Ee=function(e){(0,S.Z)(a,e);var t=ge(a);function a(){var e,n;(0,b.Z)(this,a);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return n=t.call.apply(t,M()(e=[this]).call(e,r)),(0,T.Z)((0,C.Z)(n),"state",{isModalVisible:!1,resParams:{fullGC_time:1,fullGC_frequency:0,dir_size:0,node_cpu_usage:0,node_mem_usage:0,node_disk_usage:0,node_inode_usage:0}}),(0,T.Z)((0,C.Z)(n),"ModalOnOk",(function(e){n.props.form.validateFieldsAndScroll((function(t,a){t?e.preventDefault():n.updateSettingData()}))})),(0,T.Z)((0,C.Z)(n),"ModaOnCancel",(function(){(0,n.props.ModalClose)()})),(0,T.Z)((0,C.Z)(n),"changeItem",(function(e,t){var a=n.state.resParams,l=e;e||(l="fullGC_time"===t?1:0),a[t]=l,n.setState({resParams:a})})),(0,T.Z)((0,C.Z)(n),"updateSettingData",(0,y.Z)(L().mark((function e(){var t;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(n.state.resParams);case 2:0==(t=e.sent).data.code?(Q.Z.success("操作成功!"),n.props.ModalClose()):Q.Z.error(t.msg);case 4:case"end":return e.stop()}}),e)})))),(0,T.Z)((0,C.Z)(n),"getSetting",(0,y.Z)(L().mark((function e(){var t;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de();case 2:0==(t=e.sent).data.code?n.setState({resParams:t.data.data}):Q.Z.error(t.data.msg);case 4:case"end":return e.stop()}}),e)})))),n}return(0,I.Z)(a,[{key:"componentDidMount",value:function(){this.getSetting()}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.props.visible,n=this.state.resParams;return z.createElement(z.Fragment,null,z.createElement(fe.Z,{title:"统计设置",className:"statisticalSetting",visible:a,onOk:function(t){return e.ModalOnOk(t)},onCancel:this.ModaOnCancel},z.createElement(pe.Z,null,z.createElement("div",{className:"settingNavTop"},z.createElement("div",{className:"navTopLine"}),z.createElement("div",{className:"navTopTxt"},"指标汇总")),z.createElement(pe.Z.Item,{label:"服务Full GC统计"},z.createElement("div",{style:{display:"flex"}},z.createElement(pe.Z.Item,{style:{display:"block"}},t("node_cpu_usage",{initialValue:n.node_cpu_usage,rules:[{pattern:/^[1-9]*$/,message:"请输入大于等于1的正整数"}]})(z.createElement("div",null,z.createElement("span",{className:"labelLeft"},"最近"),z.createElement(ve.Z,{step:1,value:n.fullGC_time,onChange:function(t){return e.changeItem(t,"fullGC_time")}}),"分钟"))),z.createElement(pe.Z.Item,{style:{display:"block"}},t("fullGC_frequency",{initialValue:n.fullGC_frequency,rules:[{pattern:/^[0-9]*$/,message:"请输入大于等于1的正整数"}]})(z.createElement("div",null,z.createElement("span",{className:"labelLeft"},"Full GC次数大于等于"),z.createElement(ve.Z,{step:1,value:n.fullGC_frequency,onChange:function(t){return e.changeItem(t,"fullGC_frequency")}}),"次"))))),z.createElement(pe.Z.Item,{label:"/opt/dtstack 目录统计(最新)"},t("dir_size",{initialValue:n.dir_size,rules:[{pattern:/^[0-9]*$/,message:"请输入大于等于0的正整数"}]})(z.createElement("div",null,z.createElement("span",{className:"labelLeft"},"目录大小大于等于"),z.createElement(ve.Z,{step:1,value:n.dir_size,onChange:function(t){return e.changeItem(t,"dir_size")}}),"G"))),z.createElement("div",{className:"settingNavTop"},z.createElement("div",{className:"navTopLine"}),z.createElement("div",{className:"navTopTxt"},"节点运行")),z.createElement(pe.Z.Item,{label:"CPU使用率统计"},t("node_cpu_usage",{initialValue:n.node_cpu_usage,rules:[{pattern:/^[0-9]*$/,message:"请输入大于等于0的正整数"}]})(z.createElement("div",null,z.createElement("span",{className:"labelLeft"},"CPU使用率大于等于"),z.createElement(ve.Z,{step:1,value:n.node_cpu_usage,onChange:function(t){return e.changeItem(t,"node_cpu_usage")}}),"%"))),z.createElement(pe.Z.Item,{label:"内存使用趋势"},t("node_mem_usage",{initialValue:n.node_mem_usage,rules:[{pattern:/^[0-9]*$/,message:"请输入大于等于0的正整数"}]})(z.createElement("div",null,z.createElement("span",{className:"labelLeft"},"内存使用趋势大于等于"),z.createElement(ve.Z,{step:1,value:n.node_mem_usage,onChange:function(t){return e.changeItem(t,"node_mem_usage")}}),"%"))),z.createElement(pe.Z.Item,{label:"磁盘使用趋势"},t("node_disk_usage",{initialValue:n.node_disk_usage,rules:[{pattern:/^[0-9]*$/,message:"请输入大于等于0的正整数"}]})(z.createElement("div",null,z.createElement("span",{className:"labelLeft"},"磁盘使用率大于等于"),z.createElement(ve.Z,{step:1,value:n.node_disk_usage,onChange:function(t){return e.changeItem(t,"node_disk_usage")}}),"%"))),z.createElement(pe.Z.Item,{label:"inode使用率趋势"},t("node_inode_usage",{initialValue:n.node_inode_usage,rules:[{pattern:/^[0-9]*$/,message:"请输入大于等于0的正整数"}]})(z.createElement("div",null,z.createElement("span",{className:"labelLeft"},"inode使用率大于等于"),z.createElement(ve.Z,{step:1,value:n.node_inode_usage,onChange:function(t){return e.changeItem(t,"node_inode_usage")}}),"%"))))))}}]),a}(z.Component);const he=pe.Z.create({})(Ee);var _e=[{form_title:"service_gc_statistics",desc:"服务 Full GC 统计"},{form_title:"dir_usage_statistics",desc:"/opt/dtstack/目录使用统计"},{form_title:"alarm_indicators",desc:"告警指标列表"}],Ze=[{insert:"HDFS 文件存储使用率",form_title:"hdfs_file_usage",desc:"HDFS 文件存储使用率列表"},{insert:"CPU使用率趋势",form_title:"cpu_usage",desc:"CPU使用率列表"},{insert:"内存使用率趋势",form_title:"men_usage",desc:"内存使用率列表 (最新)"},{insert:"swap 使用量趋势",form_title:"swap_usage",desc:"swap使用列表 (最新)"},{insert:"磁盘使用率趋势",form_title:"disk_usage",desc:"磁盘使用率列表 (最新)"},{insert:"inode 使用率趋势",form_title:"inode_usage",desc:"inode 使用率列表 (最新)"}],Ne=["#2FC25B","#1890FF","#6087EF","#7460EF","#AB60EF","#E85EB3","#EF5350","#F18646","#FFB310","#8BDA63"],ye=a(95266),be=a(7333),Ie=a(11382),Ce=a(67908);function Se(e,t){var a=s()(e);if(c()){var n=c()(e);t&&(n=m()(n).call(n,(function(t){return d()(e,t).enumerable}))),a.push.apply(a,n)}return a}function xe(e){for(var t=1;t<arguments.length;t++){var a,n,l=null!=arguments[t]?arguments[t]:{};t%2?p()(a=Se(Object(l),!0)).call(a,(function(t){(0,T.Z)(e,t,l[t])})):g()?h()(e,g()(l)):p()(n=Se(Object(l))).call(n,(function(t){Z()(e,t,d()(l,t))}))}return e}function De(e){var t,a=e.config,n=e.time,l=e.index,r=e.delNoDataChart,s=z.useState({}),i=(0,ye.Z)(s,2),c=i[0],o=i[1],m=z.useState({}),u=(0,ye.Z)(m,2),d=u[0],f=u[1],v=z.useState(!1),g=(0,ye.Z)(v,2),E=g[0],h=g[1],_=function(){var e=(0,y.Z)(L().mark((function e(t){var a,s,i,c,m,u,d,p,v,g,E,_;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),s=t.targets,i=t.decimal,c=t.unit,m=t.metric,u={targets:s,decimal:i,unit:c,from:new Date(U()(n[0]).format("YYYY-MM-DD 00:00:00")).valueOf(),to:new Date(U()(n[1]).format("YYYY-MM-DD 23:59:59")).valueOf()},e.next=5,me(u);case 5:if(d=e.sent,p=d.data,v=p.code,g=p.msg,0!==(null==(E=p.data)||null===(a=E.x)||void 0===a?void 0:a.length)){e.next=10;break}return r(l),e.abrupt("return");case 10:0===v?(_=xe(xe({},E),{},{title:m}),o(Z(_)),f(_)):Q.Z.error(g),h(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(e,t){var a,n,l,r={grid:{left:20,right:20,top:56,bottom:12,containLabel:!0},title:{text:e.title||"",left:"50%",top:12,textStyle:{color:"#333333",fontFamily:"PingFangSC-Regular, PingFang SC",fontSize:14,fontWeight:400}},legend:{top:"87%",left:"6%",itemWidth:23,itemHeight:5},xAxis:{type:"category",data:q()(a=e.x||[]).call(a,(function(e){return U()(1e3*e).format("MM/DD HH:mm")})),axisLine:{lineStyle:{color:"#BFBFBF"}}},yAxis:{type:"value",axisLine:{show:!1,lineStyle:{color:"#BFBFBF"}},splitLine:{lineStyle:{type:"dashed"}},axisLabel:{margin:14}},tooltip:{show:!0,trigger:"axis",textStyle:{fontSize:12,lineHeight:20,padding:12}},series:[]},s=[],i=Ne.length;return p()(n=e.y||[]).call(n,(function(e,t){s.push({data:e.data,type:"line",smooth:!0,lineStyle:{color:Ne[t%i]}})})),r.series=M()(l=[]).call(l,s),xe({},r)};return z.useEffect((function(){_(a)}),[a]),z.createElement("div",{className:"more-chart"},E?z.createElement("div",{className:"more-chart-mask"},z.createElement(Ie.Z,{tip:"数据加载中",indicator:z.createElement(Ce.Z,{type:"loading",style:{fontSize:24},spin:!0})})):null,z.createElement("div",{className:"more-chart-item"},z.createElement(be.Z,{option:c,width:"100%",height:"100%"})),z.createElement("div",{className:"more-chart-legend"},z.createElement("div",{className:"more-chart-legend-item",style:{marginBottom:12}}),q()(t=d.y||[]).call(t,(function(e,t){var a=Ne[t%Ne.length];return z.createElement("div",{className:"legend-item-left",key:t},z.createElement("div",{className:"legend-icon",style:{background:a}}),z.createElement("span",{className:"legend-title"},e.title))}))))}var Te=a(8263);const we=function(e){var t=e.listItem,a=e.cluster_id,n=e.showTableVisible,l=(0,z.useState)([]),r=(0,ye.Z)(l,2),s=r[0],i=r[1],c=(0,z.useState)(n),o=(0,ye.Z)(c,2),m=o[0],u=o[1],d=(0,z.useState)([]),f=(0,ye.Z)(d,2),v=f[0],g=f[1],E=function(){var e=(0,y.Z)(L().mark((function e(){var n,l,r,s,c,o,m;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={cluster_id:a,form_title:t.form_title},e.next=3,ce(n);case 3:0==(l=e.sent).data.code?(r=l.data.data,s=r.form_head,c=r.form_value,o=[],m=[],q()(s).call(s,(function(e,t){var a;o.push({title:e,dataIndex:e,key:M()(a="".concat(e,"-")).call(a,t)})})),p()(c).call(c,(function(e,t){for(var a={},n=0;n<s.length;n++){var l;a[s[n]]=e[n],a.key=M()(l="".concat(e[n],"-")).call(l,t)}m.push(a)})),g(o),i(m)):Q.Z.error(l.data.msg);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,z.useEffect)((function(){u(n),a&&n&&E()}),[a,n]),z.createElement(z.Fragment,null,m?z.createElement("div",{className:"moreTable"},z.createElement("div",{className:"moreTable-title"},t.desc),z.createElement(Te.Z,{className:"dt-table-border dt-table-last-row-noborder",columns:v,dataSource:s,pagination:!1})):null)};var Le=a(43663);function ke(e,t){var a=s()(e);if(c()){var n=c()(e);t&&(n=m()(n).call(n,(function(t){return d()(e,t).enumerable}))),a.push.apply(a,n)}return a}function Be(e){for(var t=1;t<arguments.length;t++){var a,n,l=null!=arguments[t]?arguments[t]:{};t%2?p()(a=ke(Object(l),!0)).call(a,(function(t){(0,T.Z)(e,t,l[t])})):g()?h()(e,g()(l)):p()(n=ke(Object(l))).call(n,(function(t){Z()(e,t,d()(l,t))}))}return e}function Fe(e){var t=function(){if("undefined"==typeof Reflect||!l())return!1;if(l().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(l()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,D.Z)(e);if(t){var r=(0,D.Z)(this).constructor;a=l()(n,arguments,r)}else a=n.apply(this,arguments);return(0,x.Z)(this,a)}}var Me=a(61120),Pe=W.Z.Option,Oe=K.Z.RangePicker;const Ae=function(e){(0,S.Z)(a,e);var t=Fe(a);function a(e){var n;return(0,b.Z)(this,a),n=t.call(this,e),(0,T.Z)((0,C.Z)(n),"state",{clusterOptionList:[],node_status:{},service_status:{},mysql_slave_status:"",currentClusterId:null,clusterTime:[],modalShow:!1,isHasNameNode:!1,bigData:{},configList:[],pdfLoading:!1,pdfTitle:"立即下载",clusterName:"",showTable:!1}),(0,T.Z)((0,C.Z)(n),"generatePdf",(function(){var e=n.state,t=e.clusterTime,a=e.clusterName;return new(B())((function(e,n){Me(document.getElementById("inspection-report-body")).then((function(n){var l,r,s=n.width,i=n.height,c=s/595.28*841.89,o=i,m=0,u=555.28/s*i,d=n.toDataURL("image/jpeg",1),f=new J.ZP("p","pt","a4");if(o<c)f.addImage(d,"JPEG",20,0,555.28,u);else for(;o>0;)f.addImage(d,"JPEG",20,m,555.28,u),m-=841.89,(o-=c)>0&&f.addPage();f.save(M()(l=M()(r="".concat(a,"集群巡检(")).call(r,t[0].format("YYYY-MM-DD"),"~")).call(l,t[1].format("YYYY-MM-DD"),").pdf")),O()((function(){e(!0)}),2500)}))}))})),(0,T.Z)((0,C.Z)(n),"exportPDF",(function(){n.setState({pdfTitle:"报告生成中",pdfLoading:!0}),n.generatePdf().then((function(e){e&&n.setState({pdfTitle:"报告已生成",pdfLoading:!1})}))})),(0,T.Z)((0,C.Z)(n),"reloadData",(function(){var e=U()(),t=U()().subtract(6,"days");n.setState({clusterTime:[t,e],showTable:!1,currentClusterId:n.state.clusterOptionList[0].id},(function(){n.getStateDataApi(),n.getBaseInfo()}))})),(0,T.Z)((0,C.Z)(n),"getClusterBigDataServer",(0,y.Z)(L().mark((function e(){var t;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue({cluster_id:n.state.currentClusterId});case 2:0==(t=e.sent).data.code?n.setState({bigData:t.data.data}):Q.Z.error(t.data.msg);case 4:case"end":return e.stop()}}),e)})))),(0,T.Z)((0,C.Z)(n),"getBaseInfo",(0,y.Z)(L().mark((function e(){var t;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie({cluster_id:n.state.currentClusterId});case 2:0==(t=e.sent).data.code?(n.setState({node_status:t.data.data.node_status,service_status:t.data.data.service_status,mysql_slave_status:t.data.data.mysql_slave_status,isHasNameNode:1==t.data.data.have_name_node,showTable:!0}),1==t.data.data.have_name_node&&n.getClusterBigDataServer()):Q.Z.error(t.data.msg);case 4:case"end":return e.stop()}}),e)})))),(0,T.Z)((0,C.Z)(n),"getStateDataApi",(0,y.Z)(L().mark((function e(){var t,a,l,r,s;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe({cluster_id:n.state.currentClusterId});case 2:0==(t=e.sent).data.code?(l=[],r=[],s=[],G()(a=t.data.data).call(a,(function(e,t,a,n){var i=Be(Be({noData:!1},t),{},{moduleName:j()(l).call(l,t.module)?"":t.module,moduleType:j()(s).call(s,t.type)?"":t.type});return l.push(t.module),s.push(t.type),r.push(i),t}),{}),n.setState({configList:r})):Q.Z.error(t.data.msg);case 4:case"end":return e.stop()}}),e)})))),(0,T.Z)((0,C.Z)(n),"getClusterListFn",(function(){Le.TN.getClusterLists({type:"","sort-by":"id","sort-dir":"desc",limit:0,start:0}).then((function(e){0===e.data.code?n.setState({clusterOptionList:e.data.data.clusters||[],currentClusterId:e.data.data.clusters[0].id||"",clusterName:e.data.data.clusters[0].name||""},(function(){n.getStateDataApi(),n.getBaseInfo()})):Q.Z.error(e.data.msg)}))})),(0,T.Z)((0,C.Z)(n),"clusterTime",(function(e){n.setState({clusterTime:e},(function(){n.getStateDataApi()}))})),(0,T.Z)((0,C.Z)(n),"clusterTimeFormat",(function(e){var t=e.split("-").join("/");return new Date(t).getTime()})),(0,T.Z)((0,C.Z)(n),"statisticalSetting",(function(e){n.setState({modalShow:e})})),(0,T.Z)((0,C.Z)(n),"modalClose",(function(){n.setState({modalShow:!1})})),(0,T.Z)((0,C.Z)(n),"handleSelectFn",(function(e,t){n.setState({currentClusterId:e,clusterName:t.props.children,showTable:!1},(function(){n.getStateDataApi(),n.getBaseInfo()}))})),(0,T.Z)((0,C.Z)(n),"delNoDataChart",(function(e){var t=(0,N.Z)(n.state.configList);t[e].noData=!0,n.setState({configList:t})})),n}return(0,I.Z)(a,[{key:"componentDidMount",value:function(){var e=this,t=U()(),a=U()().subtract(6,"days");this.setState({clusterTime:[a,t],showTable:!0},(function(){e.getClusterListFn()}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.modalShow,n=t.service_status,l=t.node_status,r=t.mysql_slave_status,s=t.clusterOptionList,i=t.isHasNameNode,c=t.configList,o=t.clusterTime,m=t.currentClusterId,u=t.bigData,d=t.pdfLoading,f=t.pdfTitle,p=t.showTable;return z.createElement("div",null,z.createElement("header",{className:"cluster-header"},z.createElement("div",{className:"button-setting"},z.createElement(X.Z,{type:"primary",loading:d,onClick:this.exportPDF},f),z.createElement(X.Z,{onClick:function(){return e.statisticalSetting(!0)}},"统计设置"),z.createElement(X.Z,{icon:"reload",onClick:this.reloadData},"刷新")),z.createElement("span",{className:"spanLeft"},"集群:"),z.createElement(W.Z,{defaultValue:m,showSearch:!0,value:m,placeholder:"请选择集群",onSelect:this.handleSelectFn},q()(s).call(s,(function(e){return z.createElement(Pe,{value:e.id},e.name)}))),z.createElement("span",{className:"spanLeft",style:{marginLeft:20}},"时间:"),z.createElement(Oe,{disabledDate:function(e){return e&&e.valueOf()>H()()||H()()-12096e5>e&&e.valueOf()},suffixIcon:z.createElement("span",{className:"emicon emicon-calendar"}),separator:"-",value:o,allowClear:!1,onChange:this.clusterTime}),a&&z.createElement(he,{visible:a,ModalClose:this.modalClose})),z.createElement("div",{className:"clusterContent"},z.createElement("div",{className:"inspection-report-body",id:"inspection-report-body"},z.createElement("div",{className:"formItem-title"}," 指标汇总"),z.createElement("div",{className:"IndicatorsSummary"},z.createElement(ee.Z,null,z.createElement(te.Z,{span:8},z.createElement(ae.Z,{title:"服务状态统计(最新)"},z.createElement(ae.Z.Item,{span:3},z.createElement("div",{className:"serviceBox"},z.createElement("div",{className:"iconLeft"},z.createElement("i",{className:"emicon emicon-yunhangyichang"})),z.createElement("div",{className:"iconRight"},"运行异常服务数: ",null==n?void 0:n.running_fail_num))),z.createElement(ae.Z.Item,{span:3},z.createElement("div",{className:"serviceBox"},z.createElement("div",{className:"iconLeft"},z.createElement("i",{className:"emicon emicon-zhujidownji"})),z.createElement("div",{className:"iconRight"},"主机down机服务数: ",null==n?void 0:n.host_down_num))),z.createElement(ae.Z.Item,{span:3},z.createElement("div",{className:"serviceBox"},z.createElement("div",{className:"iconLeft"},z.createElement("i",{className:"emicon emicon-jiankangjiancha"})),z.createElement("div",{className:"iconRight"},"健康检测异常服务数: ",null==n?void 0:n.healthy_check_error_num))),z.createElement(ae.Z.Item,{span:3},z.createElement("div",{className:"serviceBox"},z.createElement("div",{className:"iconLeft"},z.createElement("i",{className:"emicon emicon-gaojingfuwushu"})),z.createElement("div",{className:"iconRight"},"告警服务数: ",null==n?void 0:n.alerting_num))))),z.createElement(te.Z,{span:8},z.createElement(ae.Z,{title:"节点最新统计(最新)"},z.createElement(ae.Z.Item,{span:3},z.createElement("div",{className:"serviceBox"},z.createElement("div",{className:"iconLeft"},z.createElement("i",{className:"emicon emicon-jiedianzongshu"})),z.createElement("div",{className:"iconRight"},"节点总数: ",null==l?void 0:l.total))),z.createElement(ae.Z.Item,{span:3},z.createElement("div",{className:"serviceBox"},z.createElement("div",{className:"iconLeft"},z.createElement("i",{className:"emicon emicon-agentjiedianyichang"})),z.createElement("div",{className:"iconRight"},"agent异常节点数: ",null==l?void 0:l.agent_error_num))),z.createElement(ae.Z.Item,{span:3},z.createElement("div",{className:"serviceBox"},z.createElement("div",{className:"iconLeft"},z.createElement("i",{className:"emicon emicon-gaojingjiedian"})),z.createElement("div",{className:"iconRight"},"告警节点数: ",null==l?void 0:l.alerting_num))))),z.createElement(te.Z,{span:8},z.createElement(ae.Z,{title:"MySql主从同步状态(最新)"},z.createElement(ae.Z.Item,{span:3},z.createElement("div",{className:"serviceBox"},z.createElement("div",{className:"iconLeft"},z.createElement("i",{className:"emicon emicon-mysqlzhucongtongbu"})),z.createElement("div",{className:"iconRight"},1==r?"正常":"异常"))))))),q()(_e).call(_e,(function(e,t){return z.createElement("div",{className:"tableTitleStyle",key:"value.form_title"},z.createElement(we,{showTableVisible:p,cluster_id:m,listItem:e}))})),q()(c).call(c,(function(t,a){return z.createElement("div",{className:"chartList"},t.moduleType&&3==t.moduleType&&i&&!t.noData&&z.createElement(z.Fragment,null,z.createElement("div",{className:"formItem-title"},"大数据服务运行"),z.createElement("div",{className:"formItem-box"},z.createElement("div",{className:"formItem-box-item"},z.createElement("div",{className:"formItem-box-itemTop"}," NameNode 内存（最新）"),z.createElement("div",{className:"formItem-box-itemBottom"},null==u?void 0:u.name_node_mem)),z.createElement("div",{className:"formItem-box-item"},z.createElement("div",{className:"formItem-box-itemTop"}," DataNode 内存（最新）"),z.createElement("div",{className:"formItem-box-itemBottom"},null==u?void 0:u.data_node_mem)),z.createElement("div",{className:"formItem-box-item"},z.createElement("div",{className:"formItem-box-itemTop"},"DataNode 存活数（最新）"),z.createElement("div",{className:"formItem-box-itemBottom"},null==u?void 0:u.data_node_live_nums)),z.createElement("div",{className:"formItem-box-item"},z.createElement("div",{className:"formItem-box-itemTop"}," DataNode 死亡数（最新）"),z.createElement("div",{className:"formItem-box-itemBottom"},null==u?void 0:u.data_node_dead_nums)),z.createElement("div",{className:"formItem-box-item"},z.createElement("div",{className:"formItem-box-itemTop"}," HDFS文件数（最新） "),z.createElement("div",{className:"formItem-box-itemBottom"},null==u?void 0:u.hdfs_file_num)))),t.moduleType&&2==t.moduleType&&!t.noData&&z.createElement("div",{className:"formItem-title"},"应用服务运行"),t.moduleType&&4==t.moduleType&&!t.noData&&z.createElement("div",{className:"formItem-title"},"节点运行"),t.moduleType&&4!==t.moduleType&&!t.noData&&z.createElement("div",{className:"chartList-title"},"各服务 Full GC 趋势"),t.module&&!t.noData&&z.createElement("div",{className:"chartList-sutitle"},t.module),!t.noData&&z.createElement(z.Fragment,null,z.createElement(De,{config:t,time:o,key:a,index:a,delNoDataChart:e.delNoDataChart}),q()(Ze).call(Ze,(function(e){return z.createElement(z.Fragment,null,e.insert==(null==t?void 0:t.module)&&z.createElement("div",{className:"tableTitleStyle",key:"value.form_title"},z.createElement(we,{showTableVisible:p,cluster_id:m,listItem:e})))}))))})))))}}]),a}(z.Component)}}]);