"use strict";(self.webpackChunkHMC=self.webpackChunkHMC||[]).push([[1268],{21268:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Q});var r=n(95266),a=n(87198),c=n.n(a),o=n(67294),l=n(45360),u=n(35247),i=n(4191),s=n(11382),m=n(36808),d=n(28222),f=n.n(d),p=n(80222),h=n.n(p),v=n(8446),_=n.n(v),g=n(86),E=n.n(g),Z=n(66870),b=n.n(Z),y=n(29747),w=n.n(y),C=n(96718),S=n.n(C),x=n(73126),I=n(44845),N=n(71649),k=n(58118),T=n.n(k),j=n(14418),M=n.n(j),D=n(39022),L=n.n(D),O=n(35627),H=n.n(O),F=n(2357),K=n.n(F),R=n(29027),Y=n(67908),B=n(8263),P=n(8386),U=n(82193),z=n(50843);function A(e,t){var n=f()(e);if(h()){var r=h()(e);t&&(r=M()(r).call(r,(function(t){return _()(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n,r,a=null!=arguments[t]?arguments[t]:{};t%2?E()(n=A(Object(a),!0)).call(n,(function(t){(0,I.Z)(e,t,a[t])})):b()?w()(e,b()(a)):E()(r=A(Object(a))).call(r,(function(t){S()(e,t,_()(a,t))}))}return e}const $=(0,R.$j)((function(e){return{authorityList:e.UserCenterStore.authorityList}}))((function(e){var t=e.records,n=e.history,a=o.useState([]),c=(0,r.Z)(a,2),u=c[0],i=c[1],d=o.useState({visible:!1,title:"",type:"",execId:""}),f=(0,r.Z)(d,2),p=f[0],h=f[1],v=function(e,t){h((function(n){return{visible:!n.visible,title:"echo"===t?"脚本查看":"日志查看",type:t,execId:e&&e.execId}}))},_=function(e){var t,n,r;return L()(t=L()(n="".concat((r=e.name,encodeURIComponent(r)),"_")).call(n,e.objectValue,"_")).call(t,e.execId)};return o.createElement(o.Fragment,null,o.createElement(B.Z,{className:"echo-table dt-table-fixed-base",style:{height:"calc(100vh - 380px)",boxShadow:"none"},scroll:{y:!0},rowKey:_,showHeader:!1,expandIcon:function(e){var t=e.expanded,n=e.onExpand,r=e.record;return r&&r.children?o.createElement("a",{className:"custem-icon",onClick:function(e){return n(r,e)}},o.createElement(Y.Z,{type:t?"down":"right"})):o.createElement("span",{className:"no-icon"})},expandedRowKeys:u,dataSource:t.children,onExpand:function(e,t){var n=(0,N.Z)(u),r=_(t);e&&!T()(n).call(n,r)?n.push(r):n=M()(u).call(u,(function(e){return e!=r})),i(n)},indentSize:25,pagination:!1},o.createElement(B.Z.Column,{title:"名称",key:"name",render:function(e,t){return o.createElement("div",{className:"td-name"},1===t.status&&o.createElement(s.Z,{size:"small",style:{margin:"0 10px"}}),2===t.status&&o.createElement(Y.Z,{style:{color:"#12BC6A"},type:"check-circle",theme:"filled"}),3===t.status&&o.createElement(Y.Z,{style:{color:"red"},type:"close-circle",theme:"filled"}),t.desc,t.execId&&o.createElement("span",{className:"opt-tool"},o.createElement("a",{onClick:function(e){return v(t,"log")}},"日志查看"),o.createElement("a",{onClick:function(e){return v(t,"echo")}},"脚本查看")))}}),o.createElement(B.Z.Column,{title:"类型",width:"20%",render:function(e,r){return o.createElement("a",{onClick:function(e){return function(e){if(l.Z.destroy(),!e.isExist)return l.Z.warning("该组件已从该集群卸载！");var r="";switch(e.objectType){case 1:r="/deploycenter/cluster/detail/deployed?from=".concat(location.pathname),U.Z.setNaviKey("menu_deploy_center","deployed");break;case 2:r="/opscenter/service?from=".concat(location.pathname),e=V(V({},e),{},{productName:t.productName}),m.set("em_product_id",""),m.set("em_product_name",""),m.set("em_current_parent_product",t.parentProductName),U.Z.setNaviKey("menu_ops_center","sub_menu_service");break;default:r="/opscenter/hoststatus?from=".concat(location.pathname),m.set("em_product_id",""),m.set("em_product_name",t.productName),m.set("em_current_parent_product",t.parentProductName),U.Z.setNaviKey("menu_ops_center","sub_menu_host")}sessionStorage.setItem("service_object",H()(e)),n.push(r)}(r)}},3!=r.objectType?r.objectValue:r.hostIp)}}),o.createElement(B.Z.Column,{title:"开始时间",width:"20%",dataIndex:"startTime"}),o.createElement(B.Z.Column,{title:"持续时间",width:"12%",dataIndex:"duration",render:function(e,t){return 1===t.status?o.createElement(z.Z,{initial:K()(t.status)}):e+"s"}})),p.visible&&o.createElement(P.Z,(0,x.Z)({},p,{onColse:v})))}));var G=n(43663),W=n(55660);const Q=function(e){var t,n=e.location,a=e.history,d=n.state,f=void 0===d?{}:d,p=o.useState({}),h=(0,r.Z)(p,2),v=h[0],_=h[1];o.useEffect((function(){return g(),function(){return clearTimeout(t)}}),[]);var g=function e(){G.mt.getEchoOrderDetail({clusterId:m.get("em_current_cluster_id"),operationId:f.operationId}).then((function(n){var r=n.data;0===r.code?(_(r.data),t=c()((function(){e()}),5e3)):l.Z.error(r.msg)}))},E=o.createElement(o.Fragment,null,o.createElement("div",{className:"echo-status clearfix mb-12"},o.createElement("span",{className:"mr-48"},"状态：",(W.statusMap[(v||{}).status]||{}).label||"--"),o.createElement("span",{className:"mr-48"},"对象：",(v||{}).productName||"--"),o.createElement("span",{className:"mr-48"},"开始时间：",(v||{}).startTime||"--"),o.createElement("span",{className:"mr-48"},"持续时间：",(v||{}).duration||"--","s")),o.createElement($,{records:v,history:a,states:f}));return o.createElement("div",{className:"scriptecho-page"},o.createElement(u.Z,null,o.createElement(u.Z.Item,{onClick:function(e){return a.push("/deploycenter/cluster/detail/echoList?from=".concat(n.pathname))}},"集群命令"),o.createElement(u.Z.Item,null,(v||{}).name||"--")),o.createElement(i.Z,{title:o.createElement("span",null,1===(v||{}).status&&o.createElement(s.Z,{size:"small"})," ",(v||{}).name),footer:E}))}},8386:(e,t,n)=>{n.d(t,{Z:()=>k});var r=n(71649),a=n(95266),c=n(24282),o=n.n(c),l=n(28222),u=n.n(l),i=n(39022),s=n.n(i),m=n(63460),d=n.n(m),f=n(67294),p=n(45360),h=n(77268),v=n(30258),_=n(11382),g=n(14277),E=n(74981),Z=(n(44576),n(68886),n(40049),n(69604)),b=n(30381),y=n.n(b),w=n(36808),C=n(96486),S=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o()(n=u()(r)).call(n,(function(e,t){var n,a;return s()(n=s()(a="".concat(e)).call(a,t,"=")).call(n,r[t],"&")}),"".concat(e,"?")).replace(/&$/,"");fetch(a).then((function(e){return e.blob()})).then((function(e){var n=d().createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,r.click(),d().revokeObjectURL(r.href)})).catch((function(e){p.Z.error(e.message)}))},x=function(e){var t=e.title,n=e.visible,r=e.type,a=e.onColse,c=e.execId,o=e.showFooter,l=void 0===o||o,u=f.useRef(null),i=f.useCallback((function(e){var t=e.type,n=e.payload;switch(t){case"log":S("/api/v2/cluster/downLoadShellLog","".concat(c,"-shell.log"),n);break;case"echo":S("/api/v2/cluster/downLoadShellContent","".concat(c,"-content.sh"),n)}}),[]),s="echo"===r?f.createElement(h.Z,{type:"primary",disabled:!c,onClick:C.debounce((function(){return i({type:"echo",payload:{execId:c}})}),200)},"下载完整脚本"):f.createElement(h.Z,{type:"primary",disabled:!c,onClick:C.debounce((function(){i({type:"log",payload:{clusterId:w.get("em_current_cluster_id"),execId:c}})}),200)},"下载完整日志");return f.createElement(v.Z,{className:"code-view-modal",width:"echo"===r?520:1050,title:t,visible:n,footer:l?s:null,onCancel:function(e){u.current&&u.current.wsClose(),a()}},"echo"===r?f.createElement(I,{execId:c}):f.createElement(N,{execId:c,cref:u}))},I=function(e){var t=e.execId,n=f.useState(""),r=(0,a.Z)(n,2),c=r[0],o=r[1];return f.useEffect((function(){t&&function(e){Z.Z.showShellContent({execId:e}).then((function(e){var t=e.data,n=t.data,r=t.code,a=t.msg;if(0===r)return o(n);p.Z.error(a)})).catch((function(e){p.Z.error(e.message)}))}(t)}),[t]),f.createElement(E.ZP,{className:"ace-code-portal",mode:"golang",theme:"kuroir",value:c,readOnly:!0,width:"400px",height:"100%",showGutter:!1})},N=function(e){var t=e.execId,n=e.cref,c=f.useState([]),o=(0,a.Z)(c,2),l=o[0],u=o[1],i=f.useState(!1),m=(0,a.Z)(i,2),d=m[0],p=m[1],h=f.useRef(null);f.useImperativeHandle(n,(function(){return{wsClose:function(){h.current&&h.current.close(),h.current=null}}}));f.useEffect((function(){if(t)try{var e,n;h.current=new WebSocket(s()(e=s()(n="ws://".concat(window.location.hostname,":")).call(n,window.location.port,"/api/v2/cluster/showShellLog?execId=")).call(e,t)),h.current.onmessage=function(e){u((function(t){var n;return s()(n=[]).call(n,(0,r.Z)(t),[{time:"[".concat(y()().format("hh:mm:ss"),"]"),message:e.data}])})),p(!1)},h.current.onopen=function(e){p(!0)},h.current.onerror=function(e){p(!1)},h.current.onclose=function(){p(!1)}}catch(e){p(!1)}}),[t]);return f.createElement(_.Z,{spinning:d},l.length?f.createElement("div",{className:"log-info"},f.createElement("ul",{dangerouslySetInnerHTML:{__html:function(e){var t="";for(var n in e){t+="\n        <li>\n          <pre>".concat(e[n].message,"</pre>\n        </li>\n      ")}return t}(l)}})):f.createElement(g.Z,null))};const k=f.memo(x,(function(e,t){return e.execId===t.execId}))},55660:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ue,operationMaps:()=>le,statusMap:()=>oe});var r=n(28222),a=n.n(r),c=n(80222),o=n.n(c),l=n(14418),u=n.n(l),i=n(8446),s=n.n(i),m=n(86),d=n.n(m),f=n(66870),p=n.n(f),h=n(29747),v=n.n(h),_=n(96718),g=n.n(_),E=n(44845),Z=n(95266),b=n(39022),y=n.n(b),w=n(87198),C=n.n(w),S=n(35627),x=n.n(S),I=n(2357),N=n.n(I),k=n(67294),T=n(45360),j=n(8263),M=n(11382),D=n(52553),L=n(36808),O=n(43663),H=n(11882),F=n.n(H),K=n(97606),R=n.n(K),Y=n(70586),B=n.n(Y),P=n(34041),U=n(39903),z=n(10114),A=n(4107),V=n(67908),$=n(30381),G=n.n($);function W(e,t){var n=a()(e);if(o()){var r=o()(e);t&&(r=u()(r).call(r,(function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n,r,a=null!=arguments[t]?arguments[t]:{};t%2?d()(n=W(Object(a),!0)).call(n,(function(t){(0,E.Z)(e,t,a[t])})):p()?v()(e,p()(a)):d()(r=W(Object(a))).call(r,(function(t){g()(e,t,s()(a,t))}))}return e}var q=P.Z.Option,J=U.Z.RangePicker,X=function(e){var t=e.handleEvent,n=k.useState([]),r=(0,Z.Z)(n,2),a=r[0],c=r[1],o=k.useState([]),l=(0,Z.Z)(o,2),i=l[0],s=l[1];k.useEffect((function(){m()}),[]);var m=function(){O.mt.getEchoSearchList({clusterId:L.get("em_current_cluster_id")}).then((function(e){var t=e.data;0===t.code?(c(t.data||[]),s(t.data||[])):T.Z.error(t.msg)}))};return k.createElement(z.Z,{dataSource:R()(i).call(i,(function(e){return k.createElement(q,{key:e},e)})),onSelect:function(e){t((function(t){return Q(Q({},t),{},{objectValue:e,page:1})}))},onChange:function(e){return function(e){var n=a;e?n=u()(a).call(a,(function(t){var n;return e&&F()(n=t.toLowerCase()).call(n,e.toLowerCase())>-1})):t((function(t){return Q(Q({},t),{},{objectValue:e,page:1})})),s(n)}(e)},allowClear:!0},k.createElement(A.Z,{placeholder:"请输入搜索关键词",suffix:k.createElement(V.Z,{type:"search"})}))};const ee=function(e){var t,n=e.handleEvent;return k.createElement("div",{className:"echo-form clearfix mb-12"},k.createElement("span",{className:"mr-20"},"对象：",k.createElement(X,{handleEvent:n})),k.createElement("span",{className:"mr-20"},"操作：",k.createElement(P.Z,{placeholder:"请选择命令",showSearch:!0,onChange:function(e){n((function(t){return Q(Q({},t),{},{operationType:e,page:1})}))},allowClear:!0},R()(t=a()(le)).call(t,(function(e){return k.createElement(q,{key:e,value:e},le[e])})))),k.createElement("span",{className:"mr-20"},"状态：",k.createElement(P.Z,{placeholder:"请选择状态",showSearch:!0,onChange:function(e){n((function(t){return Q(Q({},t),{},{status:e,page:1})}))},allowClear:!0},k.createElement(q,{value:"2"},"正常"),k.createElement(q,{value:"3"},"失败"),k.createElement(q,{value:"1"},"进行中"))),k.createElement("span",{className:"mr-20"},"开始时间：",k.createElement(J,{format:"YYYY-MM-DD HH:mm",disabledDate:te,showTime:!0,onChange:function(e,t){t.length&&""===t[0]&&""===t[1]&&n((function(e){return Q(Q({},e),{},{startTime:t[0],endTime:t[1],page:1})}))},onOk:function(e){var t=e&&e.length?G()(e[0]).format("YYYY-MM-DD HH:mm"):"",r=e&&e.length?G()(e[1]).format("YYYY-MM-DD HH:mm"):"";if(t&&r&&t===r)return T.Z.warning("开始时间必须小于结束时间！");n((function(e){return Q(Q({},e),{},{startTime:t,endTime:r,page:1})}))}})))};function te(e){return e&&e.valueOf()>B()()}var ne=n(50843),re=n(82193);function ae(e,t){var n=a()(e);if(o()){var r=o()(e);t&&(r=u()(r).call(r,(function(t){return s()(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n,r,a=null!=arguments[t]?arguments[t]:{};t%2?d()(n=ae(Object(a),!0)).call(n,(function(t){(0,E.Z)(e,t,a[t])})):p()?v()(e,p()(a)):d()(r=ae(Object(a))).call(r,(function(t){g()(e,t,s()(a,t))}))}return e}var oe={2:{label:"正常",value:"success"},3:{label:"失败",value:"error"},1:{label:"进行中",value:"processing"}},le={1:"产品包部署",2:"补丁包升级",3:"产品包启动",4:"服务启动",5:"服务滚动重启",6:"主机初始化",7:"Kerberos开启",8:"Kerberos关闭"};const ue=function(e){var t=e.history,n=e.location,r=k.useState({clusterId:L.get("em_current_cluster_id"),operationType:void 0,objectValue:"",status:"",startTime:"",endTime:"",page:1,pageSize:10}),a=(0,Z.Z)(r,2),c=a[0],o=a[1],l=k.useState([]),u=(0,Z.Z)(l,2),i=u[0],s=u[1],m=k.useState(0),d=(0,Z.Z)(m,2),f=d[0],p=d[1],h=k.useState(!1),v=(0,Z.Z)(h,2),_=v[0],g=v[1],E=k.useState(!1),b=(0,Z.Z)(E,2),w=b[0],S=b[1],I={current:c.page,pageSize:c.pageSize,total:f,size:"small",showTotal:function(e){var t;return y()(t="共 ".concat(e," 条数据，每页显示 ")).call(t,c.pageSize," 条")}},H=k.useRef(null);k.useEffect((function(){return F(),function(){g(!0),clearTimeout(H.current)}}),[c]);var F=function e(){var t=ce(ce({},c),{},{startTime:c.startTime||void 0,endTime:c.endTime||void 0,status:c.status||void 0,objectValue:c.objectValue||void 0});S(!0),O.mt.getEchoOrder(t).then((function(t){var n=t.data;if(0===n.code){if(s(n.data.list),p(n.data.count),S(!1),_)return null;H.current=C()((function(){e()}),5e3)}else T.Z.error(n.msg)}))};return k.createElement("div",{className:"scriptecho-page"},k.createElement(ee,{handleEvent:o}),k.createElement(j.Z,{rowKey:"operationId",className:"dt-table-fixed-base",style:{height:"calc(100vh - 230px)"},dataSource:i,onChange:function(e,t,n){o((function(t){return ce(ce({},t),{},{page:e.current})}))},pagination:I,loading:w,scroll:{y:!0}},k.createElement(j.Z.Column,{title:"",width:30,key:"operationId",render:function(e,t){return k.createElement("div",null,1===t.operationStatus?k.createElement(M.Z,{size:"small"}):k.createElement("span",null," "))}}),k.createElement(j.Z.Column,{title:"对象",width:"20%",dataIndex:"objectValue",render:function(e,n){return k.createElement("a",{onClick:function(e){return function(e){if(T.Z.destroy(),!e.isExist)return T.Z.warning("该组件已从该集群卸载！");var n="";switch(e.objectType){case 1:n="/deploycenter/cluster/detail/deployed",re.Z.setNaviKey("menu_deploy_center","sub_menu_cluster_list");break;case 2:n="/opscenter/service",L.set("em_product_id",""),L.set("em_product_name",e.productName),L.set("em_current_parent_product",e.parentProductName),re.Z.setNaviKey("menu_ops_center","sub_menu_service");break;default:n="/opscenter/hoststatus",e=ce(ce({},e),{},{hostIp:e.objectValue}),L.set("em_product_id",""),L.set("em_product_name",e.productName),L.set("em_current_parent_product",e.parentProductName),re.Z.setNaviKey("menu_ops_center","sub_menu_host")}sessionStorage.setItem("service_object",x()(e)),t.push(n)}(n)}},e)}}),k.createElement(j.Z.Column,{title:"操作",dataIndex:"operationName",render:function(e,r){return k.createElement("a",{onClick:function(e){return function(e){t.push("/deploycenter/cluster/detail/echoDetail?from=".concat(n.pathname),e)}(r)}},e)}}),k.createElement(j.Z.Column,{title:"状态",dataIndex:"operationStatus",render:function(e){var t=oe[e];return k.createElement("span",null,k.createElement(D.Z,{status:t.value})," ",t.label)}}),k.createElement(j.Z.Column,{title:"开始时间",dataIndex:"startTime"}),k.createElement(j.Z.Column,{title:"持续时间",width:"12%",dataIndex:"duration",render:function(e,t){return 1===t.operationStatus?k.createElement(ne.Z,{initial:N()(e)}):e+"s"}})))}},82193:(e,t,n)=>{n.d(t,{Z:()=>g});var r=n(39022),a=n.n(r),c=n(86),o=n.n(c),l=n(11882),u=n.n(l),i=n(97606),s=n.n(i),m=n(28222),d=n.n(m),f=n(2357),p=n.n(f),h=n(45360),v=n(36808),_=n(4243);const g={pageWidth:function(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)},pageHeight:function(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)},getParameterByName:function(e,t){t||(t=window.location.href),e=e.replace(/[[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},getBase64:function(e,t){var n=new FileReader;n.addEventListener("load",(function(){return t(n.result)})),n.readAsDataURL(e)},percent:function(e,t){return e&&e!==1/0?(e>1&&(e=1),t=t||2,t=Math.pow(10,t),Math.round(e*t*100)/t+"%"):"0%"},getCssText:function(e){var t="";for(var n in e)t+=n+":"+e[n]+";";return t},formateDateTime:function(e){var t,n,r,c,o;if(!e)return"";var l=new Date(e),u=l.getFullYear(),i=l.getMonth()+1+"",s=l.getDate()+"",m=l.getHours()+"",d=l.getMinutes()+"",f=l.getSeconds()+"";return 1===i.toString().length&&(i="0".concat(i)),1===s.toString().length&&(s="0".concat(s)),1===m.toString().length&&(m="0".concat(m)),1===d.toString().length&&(d="0".concat(d)),1===f.toString().length&&(f="0".concat(f)),a()(t=a()(n=a()(r=a()(c=a()(o="".concat(u,"-")).call(o,i,"-")).call(c,s," ")).call(r,m,":")).call(n,d,":")).call(t,f)},formateDate:function(e){var t,n;if(!e)return"";var r=new Date(e),c=r.getFullYear(),o=r.getMonth()+1+"",l=r.getDate()+"";return 1===o.toString().length&&(o="0".concat(o)),1===l.toString().length&&(l="0".concat(l)),a()(t=a()(n="".concat(c,"-")).call(n,o,"-")).call(t,l)},trim:function(e){return"string"==typeof e?e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):e},messageFilter:function(e,t,n,r){1001===e.status.code&&(r||h.Z.success("成功"),t&&t())},getTableParam:function(e){var t={};return o()(e).call(e,(function(e,n){var r=e.split("-");t[r[1]]=r[2]})),t},setAlertControl:function(e){var t={},n=e.alert_control;return"1"===n?t.close=1:(t.close=0,e["alert_num_"+n]&&(t.times_after_close=e["alert_num_"+n]),e["recover_num_"+n]&&(t.close_after_long_time_reset_amount=e["recover_num_"+n],t.close_after_long_time_reset_unit=e["recover_unit_"+n])),t},getAlertControl:function(e){var t={alert_control:""};return 0===e.close&&(0!==e.times_after_close?(t.alert_control="2",t["alert_num_"+t.alert_control]=e.times_after_close):t.alert_control="3",""!==e.close_after_long_time_reset_amount&&("2"===t.alert_control&&(t.alert_control="4"),t["alert_num_"+t.alert_control]=e.times_after_close,t["recover_num_"+t.alert_control]=e.close_after_long_time_reset_amount,t["recover_unit_"+t.alert_control]=e.close_after_long_time_reset_unit)),t},filterOption:function(e,t){var n;return-1!==u()(n=t.props.children).call(n,e)},getParamsFromUrl:function(e){var t={},n=[],r="",a="",c=e.substring(u()(e).call(e,"?")+1,e.length).split("&");for(var o in c)r=(n=c[o].split("="))[0],a=n[1],t[r]=a;return t},jsonToQuery:function(e){var t;return e?function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t}(s()(t=d()(e)).call(t,(function(t){return void 0===e[t]?"":encodeURIComponent(t)+"="+encodeURIComponent(e[t])}))).join("&"):""},checkNullObj:function(e){return 0===d()(e).length},serviceCallback:function(e,t,n){0===e.data.code?(h.Z.success(t),n&&n()):h.Z.error(e.data.msg)},noAuthorityToDO:function(e,t){return!e[t]&&(h.Z.error("权限不足，请联系管理员!"),!0)},get k8sNamespace(){return v.get(_.E9.NAMESPACE)},setNaviKey:function(e,t){sessionStorage.setItem("firstLevelNav",e),sessionStorage.setItem("siderLevelNav",t)},formatGBUnit:function(e){return u()(e).call(e,"MB")>-1?p()(e.replace("MB",""))/1024:u()(e).call(e,"KB")>-1?p()(e.replace("KB",""))/1024/1024:u()(e).call(e,"GB")>-1?p()(e.replace("GB","")):u()(e).call(e,"TB")>-1?1024*p()(e.replace("TB","")):0}}}}]);