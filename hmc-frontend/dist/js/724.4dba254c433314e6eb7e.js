"use strict";(self.webpackChunkHMC=self.webpackChunkHMC||[]).push([[724],{50724:(e,t,i)=>{i.r(t),i.d(t,{default:()=>V});var n,r=i(28760),a=i.n(r),l=i(73126),u=i(44930),o=i(68420),s=i(27344),m=i(5281),c=i(84441),f=i(3020),b=i(3362),d=i(44845),p=i(30222),h=i.n(p),g=i(39022),Z=i.n(g),v=i(67294),N=i(29027),_=i(69035),y=i(45360),C=i(11382),E=i(21888),k=i(77268),w=i(43663);function S(e){var t=function(){if("undefined"==typeof Reflect||!a())return!1;if(a().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=(0,b.Z)(e);if(t){var r=(0,b.Z)(this).constructor;i=a()(n,arguments,r)}else i=n.apply(this,arguments);return(0,f.Z)(this,i)}}var L=_.Z.Item,x=(0,N.$j)((function(e){return{authorityList:e.UserCenterStore.authorityList}}))(n=function(e){(0,c.Z)(i,e);var t=S(i);function i(){var e,n;(0,o.Z)(this,i);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return n=t.call.apply(t,Z()(e=[this]).call(e,a)),(0,d.Z)((0,m.Z)(n),"state",{autolimitNumber:null,limitNumber:null,loading:!0}),(0,d.Z)((0,m.Z)(n),"changeNumber",(function(e){n.setState({limitNumber:e})})),(0,d.Z)((0,m.Z)(n),"changeAutoNumber",(function(e){n.setState({autolimitNumber:e})})),(0,d.Z)((0,m.Z)(n),"doSave",(function(){var e=n.state,t=e.limitNumber,i=e.autolimitNumber;w.w6.setGlobalConfig({service_install_timeout_limit:t,auto_test_timeout_limit:i}).then((function(e){var t=e.data;0!==t.code?y.Z.error(t.msg):y.Z.success("操作成功")}))})),(0,d.Z)((0,m.Z)(n),"getLimitNumber",(0,u.Z)(h().mark((function e(){var t,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.w6.getGlobalConfig();case 2:t=e.sent,0!==(i=t.data).code?y.Z.error(i.msg):n.setState({autolimitNumber:+i.data.auto_test_timeout_limit,limitNumber:+i.data.service_install_timeout_limit},(function(){n.setState({loading:!1})}));case 6:case"end":return e.stop()}}),e)})))),n}return(0,s.Z)(i,[{key:"componentDidMount",value:function(){this.getLimitNumber()}},{key:"render",value:function(){var e,t,i=this.props.form,n=i.getFieldDecorator,r=(null===(e=(0,i.getFieldsError)())||void 0===e?void 0:e.limitNumber)||!(null!==(t=this.props.authorityList)&&void 0!==t&&t.sub_menu_configuration_global_config_edit),a=this.state,u=a.limitNumber,o=a.autolimitNumber,s=a.loading,m={labelCol:{xs:{span:2},sm:{span:2}},wrapperCol:{xs:{span:24},sm:{span:15}}};return v.createElement("div",{className:"globalConfig"},v.createElement(C.Z,{spinning:s},!s&&v.createElement(_.Z,null,v.createElement(L,(0,l.Z)({label:"组件包安装超时 "},m),n("limitNumber",{initialValue:"limitNumber",rules:[{required:!0,message:"请输入时长"},{pattern:/^[1-9]*[1-9][0-9]*$/,message:"请输入大于0的正整数"}]})(v.createElement("div",null,v.createElement(E.Z,{defaultValue:u,step:1,min:1,onChange:this.changeNumber}),"  分钟"))),v.createElement(L,(0,l.Z)({label:"自动化测试超时 "},m),n("autolimitNumber",{initialValue:"autolimitNumber",rules:[{required:!0,message:"请输入时长"},{pattern:/^[1-9]*[1-9][0-9]*$/,message:"请输入大于0的正整数"}]})(v.createElement("div",null,v.createElement(E.Z,{defaultValue:o,step:1,min:1,onChange:this.changeAutoNumber}),"  分钟"))),v.createElement(L,null,v.createElement("div",{className:"btnList"},v.createElement(k.Z,{onClick:this.doSave,htmlType:"submit",disabled:!!r},"保存"))))))}}]),i}(v.Component))||n;const V=_.Z.create()(x)}}]);